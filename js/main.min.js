(()=>{const e=document.querySelector(".page-header"),t=document.querySelector(".page-header__toggle"),s=document.querySelector(".nav"),c=document.querySelectorAll(".nav__item"),o=()=>{document.body.classList.toggle("scroll-hidden")},a=()=>{e.classList.toggle("page-header--open"),e.classList.toggle("page-header--close"),o()};e.classList.remove("page-header--no-js"),e.classList.add("page-header--close"),s.classList.remove("nav--no-js"),s.classList.add("nav--js"),t.addEventListener("click",a),c.forEach(t=>{t.addEventListener("click",()=>{e.classList.contains("page-header--open")&&a()})});const d=document.querySelectorAll(".tour-list__link"),l=document.querySelectorAll(".tour-card"),r=document.querySelectorAll(".tour");l.forEach(e=>{e.classList.add("tour-card--hidden")}),d[0].classList.add("tour-list__link--active"),l[0].classList.remove("tour-card--hidden");const n=e=>{d.forEach(e=>{e.classList.remove("tour-list__link--active")}),l.forEach(e=>{e.classList.add("tour-card--hidden")}),d[e].classList.add("tour-list__link--active"),l[e].classList.remove("tour-card--hidden")};d.forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault(),n(t)})}),r.forEach((e,t)=>{e.addEventListener("click",()=>{n(t)})});const i=document.querySelector(".callback__form"),u=document.querySelectorAll(".button--buy-now"),m=document.querySelector(".modal"),v=m.querySelector(".modal__close"),L=m.querySelector(".modal__form"),_=m.querySelector(".modal__input--tel"),h=m.querySelector(".modal__success"),y=()=>{m.classList.remove("modal--show"),h.classList.remove("modal__success--show"),o()},p=e=>{"Escape"===e.code&&(e.preventDefault(),y(),document.removeEventListener("keydown",p))};u.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),m.classList.add("modal--show"),_.focus(),o(),document.addEventListener("keydown",p)})}),v.addEventListener("click",e=>{e.preventDefault(),y()}),m.addEventListener("click",e=>{e.target===m&&(e.preventDefault(),y())}),L.addEventListener("submit",e=>{e.preventDefault(),h.classList.add("modal__success--show"),L.reset()}),i.addEventListener("submit",e=>{e.preventDefault(),m.classList.add("modal--show"),h.classList.add("modal__success--show"),i.reset(),o(),document.addEventListener("keydown",p)});const E=document.querySelector(".modal__input--tel"),k=document.querySelector(".callback__input-tel"),f=e=>{window.iMaskJS(e,{mask:"(000)000-00-00"})};f(E),f(k)})();